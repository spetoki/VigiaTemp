
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // Permite acesso de leitura e escrita a qualquer documento
    // dentro do caminho de um usuário específico (definido pela chave de acesso).
    // Isso garante que os dados de cada chave sejam isolados,
    // ao mesmo tempo que permite que o app e a API do sensor funcionem.
    match /users/{accessKey}/{documents=**} {
      allow read, write: if true;
    }
  }
}
